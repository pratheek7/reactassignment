{"ast":null,"code":"/**\n * Copyright IBM Corp. 2016, 2022\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { objectSpread2 as _objectSpread2, slicedToArray as _slicedToArray, defineProperty as _defineProperty, extends as _extends } from '../../_virtual/_rollupPluginBabelHelpers.js';\nimport { WarningFilled, WarningAltFilled } from '@carbon/icons-react';\nimport cx from 'classnames';\nimport Downshift from 'downshift';\nimport isEqual from 'lodash.isequal';\nimport PropTypes from 'prop-types';\nimport React__default, { useContext, useState, useRef } from 'react';\nimport { defaultFilterItems } from '../ComboBox/tools/filter.js';\nimport { sortingPropTypes } from './MultiSelectPropTypes.js';\nimport '../ListBox/index.js';\nimport ListBoxSelection from '../ListBox/next/ListBoxSelection.js';\nimport ListBoxTrigger from '../ListBox/next/ListBoxTrigger.js';\nimport { Space, Tab } from '../../internal/keyboard/keys.js';\nimport { match } from '../../internal/keyboard/match.js';\nimport Selection from '../../internal/Selection.js';\nimport { defaultItemToString } from './tools/itemToString.js';\nimport mergeRefs from '../../tools/mergeRefs.js';\nimport deprecate from '../../prop-types/deprecate.js';\nimport { useId } from '../../internal/useId.js';\nimport { defaultCompareItems, defaultSortItems } from './tools/sorting.js';\nimport { useFeatureFlag } from '../FeatureFlags/index.js';\nimport { usePrefix } from '../../internal/usePrefix.js';\nimport '../FluidForm/FluidForm.js';\nimport { FormContext } from '../FluidForm/FormContext.js';\nimport { ListBoxSize } from '../ListBox/ListBoxPropTypes.js';\nimport ListBox from '../ListBox/ListBox.js';\nvar FilterableMultiSelect = /*#__PURE__*/React__default.forwardRef(function FilterableMultiSelect(_ref, ref) {\n  var _cx, _cx2, _cx3, _cx4;\n  var ariaLabel = _ref.ariaLabel,\n    containerClassName = _ref.className,\n    compareItems = _ref.compareItems,\n    direction = _ref.direction,\n    disabled = _ref.disabled,\n    downshiftProps = _ref.downshiftProps,\n    filterItems = _ref.filterItems,\n    helperText = _ref.helperText,\n    hideLabel = _ref.hideLabel,\n    id = _ref.id,\n    initialSelectedItems = _ref.initialSelectedItems,\n    invalid = _ref.invalid,\n    invalidText = _ref.invalidText,\n    items = _ref.items,\n    ItemToElement = _ref.itemToElement,\n    itemToString = _ref.itemToString,\n    light = _ref.light,\n    locale = _ref.locale,\n    onInputValueChange = _ref.onInputValueChange,\n    open = _ref.open,\n    onChange = _ref.onChange,\n    onMenuChange = _ref.onMenuChange,\n    placeholder = _ref.placeholder,\n    titleText = _ref.titleText,\n    type = _ref.type,\n    selectionFeedback = _ref.selectionFeedback,\n    size = _ref.size,\n    sortItems = _ref.sortItems,\n    translateWithId = _ref.translateWithId,\n    useTitleInItem = _ref.useTitleInItem,\n    warn = _ref.warn,\n    warnText = _ref.warnText;\n  var _useContext = useContext(FormContext),\n    isFluid = _useContext.isFluid;\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    isFocused = _useState2[0],\n    setIsFocused = _useState2[1];\n  var _useState3 = useState(open),\n    _useState4 = _slicedToArray(_useState3, 2),\n    isOpen = _useState4[0],\n    setIsOpen = _useState4[1];\n  var _useState5 = useState(open),\n    _useState6 = _slicedToArray(_useState5, 2),\n    prevOpen = _useState6[0],\n    setPrevOpen = _useState6[1];\n  var _useState7 = useState(''),\n    _useState8 = _slicedToArray(_useState7, 2),\n    inputValue = _useState8[0],\n    setInputValue = _useState8[1];\n  var _useState9 = useState([]),\n    _useState10 = _slicedToArray(_useState9, 2),\n    topItems = _useState10[0],\n    setTopItems = _useState10[1];\n  var _useState11 = useState(false),\n    _useState12 = _slicedToArray(_useState11, 2),\n    inputFocused = _useState12[0],\n    setInputFocused = _useState12[1];\n  var _useState13 = useState(null),\n    _useState14 = _slicedToArray(_useState13, 2),\n    highlightedIndex = _useState14[0],\n    setHighlightedIndex = _useState14[1];\n  var textInput = useRef();\n  var filterableMultiSelectInstanceId = useId();\n  var enabled = useFeatureFlag('enable-v11-release');\n  var prefix = usePrefix();\n  if (prevOpen !== open) {\n    setIsOpen(open);\n    setPrevOpen(open);\n  }\n  var inline = type === 'inline';\n  var showWarning = !invalid && warn;\n  var wrapperClasses = cx(\"\".concat(prefix, \"--multi-select__wrapper\"), \"\".concat(prefix, \"--list-box__wrapper\"), [enabled ? containerClassName : null], (_cx = {}, _defineProperty(_cx, \"\".concat(prefix, \"--multi-select__wrapper--inline\"), inline), _defineProperty(_cx, \"\".concat(prefix, \"--list-box__wrapper--inline\"), inline), _defineProperty(_cx, \"\".concat(prefix, \"--multi-select__wrapper--inline--invalid\"), inline && invalid), _defineProperty(_cx, \"\".concat(prefix, \"--list-box__wrapper--inline--invalid\"), inline && invalid), _defineProperty(_cx, \"\".concat(prefix, \"--list-box--up\"), direction === 'top'), _defineProperty(_cx, \"\".concat(prefix, \"--list-box__wrapper--fluid--invalid\"), isFluid && invalid), _defineProperty(_cx, \"\".concat(prefix, \"--list-box__wrapper--fluid--focus\"), isFluid && isFocused), _cx));\n  var helperId = !helperText ? undefined : \"filterablemultiselect-helper-text-\".concat(filterableMultiSelectInstanceId);\n  var labelId = \"\".concat(id, \"-label\");\n  var titleClasses = cx((_cx2 = {}, _defineProperty(_cx2, \"\".concat(prefix, \"--label\"), true), _defineProperty(_cx2, \"\".concat(prefix, \"--label--disabled\"), disabled), _defineProperty(_cx2, \"\".concat(prefix, \"--visually-hidden\"), hideLabel), _cx2));\n  var helperClasses = cx((_cx3 = {}, _defineProperty(_cx3, \"\".concat(prefix, \"--form__helper-text\"), true), _defineProperty(_cx3, \"\".concat(prefix, \"--form__helper-text--disabled\"), disabled), _cx3));\n  var inputClasses = cx((_cx4 = {}, _defineProperty(_cx4, \"\".concat(prefix, \"--text-input\"), true), _defineProperty(_cx4, \"\".concat(prefix, \"--text-input--empty\"), !inputValue), _defineProperty(_cx4, \"\".concat(prefix, \"--text-input--light\"), light), _cx4));\n  var helper = helperText ? /*#__PURE__*/React__default.createElement(\"div\", {\n    id: helperId,\n    className: helperClasses\n  }, helperText) : null;\n  var menuId = \"\".concat(id, \"__menu\");\n  var inputId = \"\".concat(id, \"-input\");\n  function handleOnChange(changes) {\n    if (onChange) {\n      onChange(changes);\n    }\n  }\n  function handleOnMenuChange(forceIsOpen) {\n    var nextIsOpen = forceIsOpen !== null && forceIsOpen !== void 0 ? forceIsOpen : !isOpen;\n    setIsOpen(nextIsOpen);\n    if (onMenuChange) {\n      onMenuChange(nextIsOpen);\n    }\n  }\n  function handleOnOuterClick() {\n    handleOnMenuChange(false);\n  }\n  function handleOnStateChange(changes, downshift) {\n    if (changes.isOpen && !isOpen) {\n      setTopItems(downshift.selectedItem);\n    }\n    var type = changes.type;\n    var stateChangeTypes = Downshift.stateChangeTypes;\n    switch (type) {\n      case stateChangeTypes.keyDownArrowDown:\n      case stateChangeTypes.keyDownArrowUp:\n      case stateChangeTypes.keyDownHome:\n      case stateChangeTypes.keyDownEnd:\n        setHighlightedIndex(changes.highlightedIndex !== undefined ? changes.highlightedIndex : null);\n        if (stateChangeTypes.keyDownArrowDown === type && !isOpen) {\n          handleOnMenuChange(true);\n        }\n        break;\n      case stateChangeTypes.keyDownEscape:\n        handleOnMenuChange(false);\n        break;\n    }\n  }\n  function handleOnInputValueChange(inputValue, _ref2) {\n    var type = _ref2.type;\n    if (onInputValueChange) {\n      onInputValueChange(inputValue);\n    }\n    if (type !== Downshift.stateChangeTypes.changeInput) {\n      return;\n    }\n    if (Array.isArray(inputValue)) {\n      clearInputValue();\n    } else {\n      setInputValue(inputValue);\n    }\n    if (inputValue && !isOpen) {\n      handleOnMenuChange(true);\n    } else if (!inputValue && isOpen) {\n      handleOnMenuChange(false);\n    }\n  }\n  function clearInputValue() {\n    setInputValue('');\n    if (textInput.current) {\n      textInput.current.focus();\n    }\n  }\n  return /*#__PURE__*/React__default.createElement(Selection, {\n    disabled: disabled,\n    onChange: handleOnChange,\n    initialSelectedItems: initialSelectedItems,\n    render: function render(_ref3) {\n      var selectedItems = _ref3.selectedItems,\n        onItemChange = _ref3.onItemChange,\n        _clearSelection = _ref3.clearSelection;\n      return /*#__PURE__*/React__default.createElement(Downshift, _extends({}, downshiftProps, {\n        highlightedIndex: highlightedIndex,\n        id: id,\n        isOpen: isOpen,\n        inputValue: inputValue,\n        onInputValueChange: handleOnInputValueChange,\n        onChange: function onChange(selectedItem) {\n          if (selectedItem !== null) {\n            onItemChange(selectedItem);\n          }\n        },\n        itemToString: itemToString,\n        onStateChange: handleOnStateChange,\n        onOuterClick: handleOnOuterClick,\n        selectedItem: selectedItems,\n        labelId: labelId,\n        menuId: menuId,\n        inputId: inputId\n      }), function (_ref4) {\n        var _cx5;\n        var getInputProps = _ref4.getInputProps,\n          getItemProps = _ref4.getItemProps,\n          getLabelProps = _ref4.getLabelProps,\n          getMenuProps = _ref4.getMenuProps,\n          getRootProps = _ref4.getRootProps,\n          getToggleButtonProps = _ref4.getToggleButtonProps,\n          isOpen = _ref4.isOpen,\n          inputValue = _ref4.inputValue,\n          selectedItem = _ref4.selectedItem;\n        var className = cx(\"\".concat(prefix, \"--multi-select\"), \"\".concat(prefix, \"--combo-box\"), \"\".concat(prefix, \"--multi-select--filterable\"), [enabled ? null : containerClassName], (_cx5 = {}, _defineProperty(_cx5, \"\".concat(prefix, \"--multi-select--invalid\"), invalid), _defineProperty(_cx5, \"\".concat(prefix, \"--multi-select--open\"), isOpen), _defineProperty(_cx5, \"\".concat(prefix, \"--multi-select--inline\"), inline), _defineProperty(_cx5, \"\".concat(prefix, \"--multi-select--selected\"), selectedItem.length > 0), _defineProperty(_cx5, \"\".concat(prefix, \"--multi-select--filterable--input-focused\"), inputFocused), _cx5));\n        var rootProps = getRootProps({}, {\n          suppressRefError: true\n        });\n        var labelProps = getLabelProps();\n        var buttonProps = getToggleButtonProps({\n          disabled: disabled,\n          onClick: function onClick() {\n            handleOnMenuChange(!isOpen);\n            if (textInput.current) {\n              textInput.current.focus();\n            }\n          },\n          // When we moved the \"root node\" of Downshift to the <input> for\n          // ARIA 1.2 compliance, we unfortunately hit this branch for the\n          // \"mouseup\" event that downshift listens to:\n          // https://github.com/downshift-js/downshift/blob/v5.2.1/src/downshift.js#L1051-L1065\n          //\n          // As a result, it will reset the state of the component and so we\n          // stop the event from propagating to prevent this. This allows the\n          // toggleMenu behavior for the toggleButton to correctly open and\n          // close the menu.\n          onMouseUp: function onMouseUp(event) {\n            if (isOpen) {\n              event.stopPropagation();\n            }\n          }\n        });\n        var inputProps = getInputProps({\n          'aria-controls': isOpen ? menuId : null,\n          'aria-describedby': helperText ? helperId : null,\n          // Remove excess aria `aria-labelledby`. HTML <label for>\n          // provides this aria information.\n          'aria-labelledby': null,\n          disabled: disabled,\n          placeholder: placeholder,\n          onClick: function onClick() {\n            handleOnMenuChange(true);\n          },\n          onKeyDown: function onKeyDown(event) {\n            if (match(event, Space)) {\n              event.stopPropagation();\n            }\n            if (match(event, Tab)) {\n              handleOnMenuChange(false);\n            }\n          },\n          onFocus: function onFocus() {\n            setInputFocused(true);\n          },\n          onBlur: function onBlur() {\n            setInputFocused(false);\n          }\n        });\n        var menuProps = getMenuProps({\n          'aria-label': ariaLabel\n        }, {\n          suppressRefError: true\n        });\n        var handleFocus = function handleFocus(evt) {\n          if (evt.target.classList.contains(\"\".concat(prefix, \"--tag__close-icon\")) || evt.target.classList.contains(\"\".concat(prefix, \"--list-box__selection\"))) {\n            setIsFocused(false);\n          } else {\n            setIsFocused(evt.type === 'focus' ? true : false);\n          }\n        };\n        return /*#__PURE__*/React__default.createElement(\"div\", {\n          className: wrapperClasses\n        }, titleText ? /*#__PURE__*/React__default.createElement(\"label\", _extends({\n          className: titleClasses\n        }, labelProps), titleText) : null, /*#__PURE__*/React__default.createElement(ListBox, {\n          onFocus: isFluid ? handleFocus : null,\n          onBlur: isFluid ? handleFocus : null,\n          className: className,\n          disabled: disabled,\n          light: light,\n          ref: ref,\n          invalid: invalid,\n          invalidText: invalidText,\n          warn: warn,\n          warnText: warnText,\n          isOpen: isOpen,\n          size: size\n        }, /*#__PURE__*/React__default.createElement(\"div\", {\n          className: \"\".concat(prefix, \"--list-box__field\")\n        }, selectedItem.length > 0 && /*#__PURE__*/React__default.createElement(ListBoxSelection, {\n          clearSelection: function clearSelection() {\n            _clearSelection();\n            if (textInput.current) {\n              textInput.current.focus();\n            }\n          },\n          selectionCount: selectedItem.length,\n          translateWithId: translateWithId,\n          disabled: disabled\n        }), /*#__PURE__*/React__default.createElement(\"input\", _extends({\n          className: inputClasses\n        }, rootProps, inputProps, {\n          ref: mergeRefs(textInput, rootProps.ref)\n        })), invalid && /*#__PURE__*/React__default.createElement(WarningFilled, {\n          className: \"\".concat(prefix, \"--list-box__invalid-icon\")\n        }), showWarning && /*#__PURE__*/React__default.createElement(WarningAltFilled, {\n          className: \"\".concat(prefix, \"--list-box__invalid-icon \").concat(prefix, \"--list-box__invalid-icon--warning\")\n        }), inputValue && /*#__PURE__*/React__default.createElement(ListBoxSelection, {\n          clearSelection: clearInputValue,\n          disabled: disabled,\n          translateWithId: translateWithId,\n          onMouseUp: function onMouseUp(event) {\n            // If we do not stop this event from propagating,\n            // it seems like Downshift takes our event and\n            // prevents us from getting `onClick` /\n            // `clearSelection` from the underlying <button> in\n            // ListBoxSelection\n            event.stopPropagation();\n          }\n        }), /*#__PURE__*/React__default.createElement(ListBoxTrigger, _extends({}, buttonProps, {\n          isOpen: isOpen,\n          translateWithId: translateWithId\n        }))), isOpen ? /*#__PURE__*/React__default.createElement(ListBox.Menu, menuProps, sortItems(filterItems(items, {\n          itemToString: itemToString,\n          inputValue: inputValue\n        }), {\n          selectedItems: {\n            top: selectedItems,\n            fixed: [],\n            'top-after-reopen': topItems\n          }[selectionFeedback],\n          itemToString: itemToString,\n          compareItems: compareItems,\n          locale: locale\n        }).map(function (item, index) {\n          var itemProps = getItemProps({\n            item: item,\n            disabled: item.disabled\n          });\n          var itemText = itemToString(item);\n          var isChecked = selectedItem.filter(function (selected) {\n            return isEqual(selected, item);\n          }).length > 0;\n          return /*#__PURE__*/React__default.createElement(ListBox.MenuItem, _extends({\n            key: itemProps.id,\n            \"aria-label\": itemText,\n            isActive: isChecked,\n            isHighlighted: highlightedIndex === index,\n            title: itemText\n          }, itemProps), /*#__PURE__*/React__default.createElement(\"div\", {\n            className: \"\".concat(prefix, \"--checkbox-wrapper\")\n          }, /*#__PURE__*/React__default.createElement(\"span\", {\n            title: useTitleInItem ? itemText : null,\n            className: \"\".concat(prefix, \"--checkbox-label\"),\n            \"data-contained-checkbox-state\": isChecked,\n            id: \"\".concat(itemProps.id, \"-item\")\n          }, ItemToElement ? /*#__PURE__*/React__default.createElement(ItemToElement, _extends({\n            key: itemProps.id\n          }, item)) : itemText)));\n        })) : null), !inline && !invalid && !warn ? helper : null);\n      });\n    }\n  });\n});\nFilterableMultiSelect.propTypes = _objectSpread2(_objectSpread2({\n  /**\n   * 'aria-label' of the ListBox component.\n   */\n  ariaLabel: PropTypes.string,\n  /**\n   * Specify the direction of the multiselect dropdown. Can be either top or bottom.\n   */\n  direction: PropTypes.oneOf(['top', 'bottom']),\n  /**\n   * Disable the control\n   */\n  disabled: PropTypes.bool,\n  /**\n   * Additional props passed to Downshift\n   */\n  downshiftProps: PropTypes.shape(Downshift.propTypes),\n  /**\n   * Specify whether the title text should be hidden or not\n   */\n  hideLabel: PropTypes.bool,\n  /**\n   * Specify a custom `id`\n   */\n  id: PropTypes.string.isRequired,\n  /**\n   * Allow users to pass in arbitrary items from their collection that are\n   * pre-selected\n   */\n  initialSelectedItems: PropTypes.array,\n  /**\n   * Is the current selection invalid?\n   */\n  invalid: PropTypes.bool,\n  /**\n   * If invalid, what is the error?\n   */\n  invalidText: PropTypes.node,\n  /**\n   * Function to render items as custom components instead of strings.\n   * Defaults to null and is overridden by a getter\n   */\n  itemToElement: PropTypes.func,\n  /**\n   * Helper function passed to downshift that allows the library to render a\n   * given item to a string label. By default, it extracts the `label` field\n   * from a given item to serve as the item label in the list.\n   */\n  itemToString: PropTypes.func,\n  /**\n   * We try to stay as generic as possible here to allow individuals to pass\n   * in a collection of whatever kind of data structure they prefer\n   */\n  items: PropTypes.array.isRequired,\n  /**\n   * `true` to use the light version.\n   */\n  light: deprecate(PropTypes.bool, 'The `light` prop for `FilterableMultiSelect` has ' + 'been deprecated in favor of the new `Layer` component. It will be removed in the next major release.'),\n  /**\n   * Specify the locale of the control. Used for the default `compareItems`\n   * used for sorting the list of items in the control.\n   */\n  locale: PropTypes.string,\n  /**\n   * `onChange` is a utility for this controlled component to communicate to a\n   * consuming component what kind of internal state changes are occurring.\n   */\n  onChange: PropTypes.func,\n  /**\n   * `onInputValueChange` is a utility for this controlled component to communicate to\n   * the currently typed input.\n   */\n  onInputValueChange: PropTypes.func,\n  /**\n   * `onMenuChange` is a utility for this controlled component to communicate to a\n   * consuming component that the menu was opened(`true`)/closed(`false`).\n   */\n  onMenuChange: PropTypes.func,\n  /**\n   * Initialize the component with an open(`true`)/closed(`false`) menu.\n   */\n  open: PropTypes.bool,\n  /**\n   * Generic `placeholder` that will be used as the textual representation of\n   * what this field is for\n   */\n  placeholder: PropTypes.string,\n  /**\n   * Specify feedback (mode) of the selection.\n   * `top`: selected item jumps to top\n   * `fixed`: selected item stays at it's position\n   * `top-after-reopen`: selected item jump to top after reopen dropdown\n   */\n  selectionFeedback: PropTypes.oneOf(['top', 'fixed', 'top-after-reopen']),\n  /**\n   * Specify the size of the ListBox. Currently supports either `sm`, `md` or `lg` as an option.\n   */\n  size: ListBoxSize\n}, sortingPropTypes), {}, {\n  /**\n   * Callback function for translating ListBoxMenuIcon SVG title\n   */\n  translateWithId: PropTypes.func,\n  /**\n   * Specify title to show title on hover\n   */\n  useTitleInItem: PropTypes.bool,\n  /**\n   * Specify whether the control is currently in warning state\n   */\n  warn: PropTypes.bool,\n  /**\n   * Provide the text that is displayed when the control is in warning state\n   */\n  warnText: PropTypes.node\n});\nFilterableMultiSelect.defaultProps = {\n  ariaLabel: 'Choose an item',\n  compareItems: defaultCompareItems,\n  direction: 'bottom',\n  disabled: false,\n  filterItems: defaultFilterItems,\n  initialSelectedItems: [],\n  itemToString: defaultItemToString,\n  locale: 'en',\n  sortItems: defaultSortItems,\n  open: false,\n  selectionFeedback: 'top-after-reopen'\n};\nexport { FilterableMultiSelect as default };","map":{"version":3,"names":["objectSpread2","_objectSpread2","slicedToArray","_slicedToArray","defineProperty","_defineProperty","extends","_extends","WarningFilled","WarningAltFilled","cx","Downshift","isEqual","PropTypes","React__default","useContext","useState","useRef","defaultFilterItems","sortingPropTypes","ListBoxSelection","ListBoxTrigger","Space","Tab","match","Selection","defaultItemToString","mergeRefs","deprecate","useId","defaultCompareItems","defaultSortItems","useFeatureFlag","usePrefix","FormContext","ListBoxSize","ListBox","FilterableMultiSelect","forwardRef","_ref","ref","_cx","_cx2","_cx3","_cx4","ariaLabel","containerClassName","className","compareItems","direction","disabled","downshiftProps","filterItems","helperText","hideLabel","id","initialSelectedItems","invalid","invalidText","items","ItemToElement","itemToElement","itemToString","light","locale","onInputValueChange","open","onChange","onMenuChange","placeholder","titleText","type","selectionFeedback","size","sortItems","translateWithId","useTitleInItem","warn","warnText","_useContext","isFluid","_useState","_useState2","isFocused","setIsFocused","_useState3","_useState4","isOpen","setIsOpen","_useState5","_useState6","prevOpen","setPrevOpen","_useState7","_useState8","inputValue","setInputValue","_useState9","_useState10","topItems","setTopItems","_useState11","_useState12","inputFocused","setInputFocused","_useState13","_useState14","highlightedIndex","setHighlightedIndex","textInput","filterableMultiSelectInstanceId","enabled","prefix","inline","showWarning","wrapperClasses","concat","helperId","undefined","labelId","titleClasses","helperClasses","inputClasses","helper","createElement","menuId","inputId","handleOnChange","changes","handleOnMenuChange","forceIsOpen","nextIsOpen","handleOnOuterClick","handleOnStateChange","downshift","selectedItem","stateChangeTypes","keyDownArrowDown","keyDownArrowUp","keyDownHome","keyDownEnd","keyDownEscape","handleOnInputValueChange","_ref2","changeInput","Array","isArray","clearInputValue","current","focus","render","_ref3","selectedItems","onItemChange","_clearSelection","clearSelection","onStateChange","onOuterClick","_ref4","_cx5","getInputProps","getItemProps","getLabelProps","getMenuProps","getRootProps","getToggleButtonProps","length","rootProps","suppressRefError","labelProps","buttonProps","onClick","onMouseUp","event","stopPropagation","inputProps","onKeyDown","onFocus","onBlur","menuProps","handleFocus","evt","target","classList","contains","selectionCount","Menu","top","fixed","map","item","index","itemProps","itemText","isChecked","filter","selected","MenuItem","key","isActive","isHighlighted","title","propTypes","string","oneOf","bool","shape","isRequired","array","node","func","defaultProps","default"],"sources":["C:/Users/Administrator/Desktop/nerf/node_modules/@carbon/react/es/components/MultiSelect/FilterableMultiSelect.js"],"sourcesContent":["/**\n * Copyright IBM Corp. 2016, 2022\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { objectSpread2 as _objectSpread2, slicedToArray as _slicedToArray, defineProperty as _defineProperty, extends as _extends } from '../../_virtual/_rollupPluginBabelHelpers.js';\nimport { WarningFilled, WarningAltFilled } from '@carbon/icons-react';\nimport cx from 'classnames';\nimport Downshift from 'downshift';\nimport isEqual from 'lodash.isequal';\nimport PropTypes from 'prop-types';\nimport React__default, { useContext, useState, useRef } from 'react';\nimport { defaultFilterItems } from '../ComboBox/tools/filter.js';\nimport { sortingPropTypes } from './MultiSelectPropTypes.js';\nimport '../ListBox/index.js';\nimport ListBoxSelection from '../ListBox/next/ListBoxSelection.js';\nimport ListBoxTrigger from '../ListBox/next/ListBoxTrigger.js';\nimport { Space, Tab } from '../../internal/keyboard/keys.js';\nimport { match } from '../../internal/keyboard/match.js';\nimport Selection from '../../internal/Selection.js';\nimport { defaultItemToString } from './tools/itemToString.js';\nimport mergeRefs from '../../tools/mergeRefs.js';\nimport deprecate from '../../prop-types/deprecate.js';\nimport { useId } from '../../internal/useId.js';\nimport { defaultCompareItems, defaultSortItems } from './tools/sorting.js';\nimport { useFeatureFlag } from '../FeatureFlags/index.js';\nimport { usePrefix } from '../../internal/usePrefix.js';\nimport '../FluidForm/FluidForm.js';\nimport { FormContext } from '../FluidForm/FormContext.js';\nimport { ListBoxSize } from '../ListBox/ListBoxPropTypes.js';\nimport ListBox from '../ListBox/ListBox.js';\n\nvar FilterableMultiSelect = /*#__PURE__*/React__default.forwardRef(function FilterableMultiSelect(_ref, ref) {\n  var _cx, _cx2, _cx3, _cx4;\n\n  var ariaLabel = _ref.ariaLabel,\n      containerClassName = _ref.className,\n      compareItems = _ref.compareItems,\n      direction = _ref.direction,\n      disabled = _ref.disabled,\n      downshiftProps = _ref.downshiftProps,\n      filterItems = _ref.filterItems,\n      helperText = _ref.helperText,\n      hideLabel = _ref.hideLabel,\n      id = _ref.id,\n      initialSelectedItems = _ref.initialSelectedItems,\n      invalid = _ref.invalid,\n      invalidText = _ref.invalidText,\n      items = _ref.items,\n      ItemToElement = _ref.itemToElement,\n      itemToString = _ref.itemToString,\n      light = _ref.light,\n      locale = _ref.locale,\n      onInputValueChange = _ref.onInputValueChange,\n      open = _ref.open,\n      onChange = _ref.onChange,\n      onMenuChange = _ref.onMenuChange,\n      placeholder = _ref.placeholder,\n      titleText = _ref.titleText,\n      type = _ref.type,\n      selectionFeedback = _ref.selectionFeedback,\n      size = _ref.size,\n      sortItems = _ref.sortItems,\n      translateWithId = _ref.translateWithId,\n      useTitleInItem = _ref.useTitleInItem,\n      warn = _ref.warn,\n      warnText = _ref.warnText;\n\n  var _useContext = useContext(FormContext),\n      isFluid = _useContext.isFluid;\n\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      isFocused = _useState2[0],\n      setIsFocused = _useState2[1];\n\n  var _useState3 = useState(open),\n      _useState4 = _slicedToArray(_useState3, 2),\n      isOpen = _useState4[0],\n      setIsOpen = _useState4[1];\n\n  var _useState5 = useState(open),\n      _useState6 = _slicedToArray(_useState5, 2),\n      prevOpen = _useState6[0],\n      setPrevOpen = _useState6[1];\n\n  var _useState7 = useState(''),\n      _useState8 = _slicedToArray(_useState7, 2),\n      inputValue = _useState8[0],\n      setInputValue = _useState8[1];\n\n  var _useState9 = useState([]),\n      _useState10 = _slicedToArray(_useState9, 2),\n      topItems = _useState10[0],\n      setTopItems = _useState10[1];\n\n  var _useState11 = useState(false),\n      _useState12 = _slicedToArray(_useState11, 2),\n      inputFocused = _useState12[0],\n      setInputFocused = _useState12[1];\n\n  var _useState13 = useState(null),\n      _useState14 = _slicedToArray(_useState13, 2),\n      highlightedIndex = _useState14[0],\n      setHighlightedIndex = _useState14[1];\n\n  var textInput = useRef();\n  var filterableMultiSelectInstanceId = useId();\n  var enabled = useFeatureFlag('enable-v11-release');\n  var prefix = usePrefix();\n\n  if (prevOpen !== open) {\n    setIsOpen(open);\n    setPrevOpen(open);\n  }\n\n  var inline = type === 'inline';\n  var showWarning = !invalid && warn;\n  var wrapperClasses = cx(\"\".concat(prefix, \"--multi-select__wrapper\"), \"\".concat(prefix, \"--list-box__wrapper\"), [enabled ? containerClassName : null], (_cx = {}, _defineProperty(_cx, \"\".concat(prefix, \"--multi-select__wrapper--inline\"), inline), _defineProperty(_cx, \"\".concat(prefix, \"--list-box__wrapper--inline\"), inline), _defineProperty(_cx, \"\".concat(prefix, \"--multi-select__wrapper--inline--invalid\"), inline && invalid), _defineProperty(_cx, \"\".concat(prefix, \"--list-box__wrapper--inline--invalid\"), inline && invalid), _defineProperty(_cx, \"\".concat(prefix, \"--list-box--up\"), direction === 'top'), _defineProperty(_cx, \"\".concat(prefix, \"--list-box__wrapper--fluid--invalid\"), isFluid && invalid), _defineProperty(_cx, \"\".concat(prefix, \"--list-box__wrapper--fluid--focus\"), isFluid && isFocused), _cx));\n  var helperId = !helperText ? undefined : \"filterablemultiselect-helper-text-\".concat(filterableMultiSelectInstanceId);\n  var labelId = \"\".concat(id, \"-label\");\n  var titleClasses = cx((_cx2 = {}, _defineProperty(_cx2, \"\".concat(prefix, \"--label\"), true), _defineProperty(_cx2, \"\".concat(prefix, \"--label--disabled\"), disabled), _defineProperty(_cx2, \"\".concat(prefix, \"--visually-hidden\"), hideLabel), _cx2));\n  var helperClasses = cx((_cx3 = {}, _defineProperty(_cx3, \"\".concat(prefix, \"--form__helper-text\"), true), _defineProperty(_cx3, \"\".concat(prefix, \"--form__helper-text--disabled\"), disabled), _cx3));\n  var inputClasses = cx((_cx4 = {}, _defineProperty(_cx4, \"\".concat(prefix, \"--text-input\"), true), _defineProperty(_cx4, \"\".concat(prefix, \"--text-input--empty\"), !inputValue), _defineProperty(_cx4, \"\".concat(prefix, \"--text-input--light\"), light), _cx4));\n  var helper = helperText ? /*#__PURE__*/React__default.createElement(\"div\", {\n    id: helperId,\n    className: helperClasses\n  }, helperText) : null;\n  var menuId = \"\".concat(id, \"__menu\");\n  var inputId = \"\".concat(id, \"-input\");\n\n  function handleOnChange(changes) {\n    if (onChange) {\n      onChange(changes);\n    }\n  }\n\n  function handleOnMenuChange(forceIsOpen) {\n    var nextIsOpen = forceIsOpen !== null && forceIsOpen !== void 0 ? forceIsOpen : !isOpen;\n    setIsOpen(nextIsOpen);\n\n    if (onMenuChange) {\n      onMenuChange(nextIsOpen);\n    }\n  }\n\n  function handleOnOuterClick() {\n    handleOnMenuChange(false);\n  }\n\n  function handleOnStateChange(changes, downshift) {\n    if (changes.isOpen && !isOpen) {\n      setTopItems(downshift.selectedItem);\n    }\n\n    var type = changes.type;\n    var stateChangeTypes = Downshift.stateChangeTypes;\n\n    switch (type) {\n      case stateChangeTypes.keyDownArrowDown:\n      case stateChangeTypes.keyDownArrowUp:\n      case stateChangeTypes.keyDownHome:\n      case stateChangeTypes.keyDownEnd:\n        setHighlightedIndex(changes.highlightedIndex !== undefined ? changes.highlightedIndex : null);\n\n        if (stateChangeTypes.keyDownArrowDown === type && !isOpen) {\n          handleOnMenuChange(true);\n        }\n\n        break;\n\n      case stateChangeTypes.keyDownEscape:\n        handleOnMenuChange(false);\n        break;\n    }\n  }\n\n  function handleOnInputValueChange(inputValue, _ref2) {\n    var type = _ref2.type;\n\n    if (onInputValueChange) {\n      onInputValueChange(inputValue);\n    }\n\n    if (type !== Downshift.stateChangeTypes.changeInput) {\n      return;\n    }\n\n    if (Array.isArray(inputValue)) {\n      clearInputValue();\n    } else {\n      setInputValue(inputValue);\n    }\n\n    if (inputValue && !isOpen) {\n      handleOnMenuChange(true);\n    } else if (!inputValue && isOpen) {\n      handleOnMenuChange(false);\n    }\n  }\n\n  function clearInputValue() {\n    setInputValue('');\n\n    if (textInput.current) {\n      textInput.current.focus();\n    }\n  }\n\n  return /*#__PURE__*/React__default.createElement(Selection, {\n    disabled: disabled,\n    onChange: handleOnChange,\n    initialSelectedItems: initialSelectedItems,\n    render: function render(_ref3) {\n      var selectedItems = _ref3.selectedItems,\n          onItemChange = _ref3.onItemChange,\n          _clearSelection = _ref3.clearSelection;\n      return /*#__PURE__*/React__default.createElement(Downshift, _extends({}, downshiftProps, {\n        highlightedIndex: highlightedIndex,\n        id: id,\n        isOpen: isOpen,\n        inputValue: inputValue,\n        onInputValueChange: handleOnInputValueChange,\n        onChange: function onChange(selectedItem) {\n          if (selectedItem !== null) {\n            onItemChange(selectedItem);\n          }\n        },\n        itemToString: itemToString,\n        onStateChange: handleOnStateChange,\n        onOuterClick: handleOnOuterClick,\n        selectedItem: selectedItems,\n        labelId: labelId,\n        menuId: menuId,\n        inputId: inputId\n      }), function (_ref4) {\n        var _cx5;\n\n        var getInputProps = _ref4.getInputProps,\n            getItemProps = _ref4.getItemProps,\n            getLabelProps = _ref4.getLabelProps,\n            getMenuProps = _ref4.getMenuProps,\n            getRootProps = _ref4.getRootProps,\n            getToggleButtonProps = _ref4.getToggleButtonProps,\n            isOpen = _ref4.isOpen,\n            inputValue = _ref4.inputValue,\n            selectedItem = _ref4.selectedItem;\n        var className = cx(\"\".concat(prefix, \"--multi-select\"), \"\".concat(prefix, \"--combo-box\"), \"\".concat(prefix, \"--multi-select--filterable\"), [enabled ? null : containerClassName], (_cx5 = {}, _defineProperty(_cx5, \"\".concat(prefix, \"--multi-select--invalid\"), invalid), _defineProperty(_cx5, \"\".concat(prefix, \"--multi-select--open\"), isOpen), _defineProperty(_cx5, \"\".concat(prefix, \"--multi-select--inline\"), inline), _defineProperty(_cx5, \"\".concat(prefix, \"--multi-select--selected\"), selectedItem.length > 0), _defineProperty(_cx5, \"\".concat(prefix, \"--multi-select--filterable--input-focused\"), inputFocused), _cx5));\n        var rootProps = getRootProps({}, {\n          suppressRefError: true\n        });\n        var labelProps = getLabelProps();\n        var buttonProps = getToggleButtonProps({\n          disabled: disabled,\n          onClick: function onClick() {\n            handleOnMenuChange(!isOpen);\n\n            if (textInput.current) {\n              textInput.current.focus();\n            }\n          },\n          // When we moved the \"root node\" of Downshift to the <input> for\n          // ARIA 1.2 compliance, we unfortunately hit this branch for the\n          // \"mouseup\" event that downshift listens to:\n          // https://github.com/downshift-js/downshift/blob/v5.2.1/src/downshift.js#L1051-L1065\n          //\n          // As a result, it will reset the state of the component and so we\n          // stop the event from propagating to prevent this. This allows the\n          // toggleMenu behavior for the toggleButton to correctly open and\n          // close the menu.\n          onMouseUp: function onMouseUp(event) {\n            if (isOpen) {\n              event.stopPropagation();\n            }\n          }\n        });\n        var inputProps = getInputProps({\n          'aria-controls': isOpen ? menuId : null,\n          'aria-describedby': helperText ? helperId : null,\n          // Remove excess aria `aria-labelledby`. HTML <label for>\n          // provides this aria information.\n          'aria-labelledby': null,\n          disabled: disabled,\n          placeholder: placeholder,\n          onClick: function onClick() {\n            handleOnMenuChange(true);\n          },\n          onKeyDown: function onKeyDown(event) {\n            if (match(event, Space)) {\n              event.stopPropagation();\n            }\n\n            if (match(event, Tab)) {\n              handleOnMenuChange(false);\n            }\n          },\n          onFocus: function onFocus() {\n            setInputFocused(true);\n          },\n          onBlur: function onBlur() {\n            setInputFocused(false);\n          }\n        });\n        var menuProps = getMenuProps({\n          'aria-label': ariaLabel\n        }, {\n          suppressRefError: true\n        });\n\n        var handleFocus = function handleFocus(evt) {\n          if (evt.target.classList.contains(\"\".concat(prefix, \"--tag__close-icon\")) || evt.target.classList.contains(\"\".concat(prefix, \"--list-box__selection\"))) {\n            setIsFocused(false);\n          } else {\n            setIsFocused(evt.type === 'focus' ? true : false);\n          }\n        };\n\n        return /*#__PURE__*/React__default.createElement(\"div\", {\n          className: wrapperClasses\n        }, titleText ? /*#__PURE__*/React__default.createElement(\"label\", _extends({\n          className: titleClasses\n        }, labelProps), titleText) : null, /*#__PURE__*/React__default.createElement(ListBox, {\n          onFocus: isFluid ? handleFocus : null,\n          onBlur: isFluid ? handleFocus : null,\n          className: className,\n          disabled: disabled,\n          light: light,\n          ref: ref,\n          invalid: invalid,\n          invalidText: invalidText,\n          warn: warn,\n          warnText: warnText,\n          isOpen: isOpen,\n          size: size\n        }, /*#__PURE__*/React__default.createElement(\"div\", {\n          className: \"\".concat(prefix, \"--list-box__field\")\n        }, selectedItem.length > 0 && /*#__PURE__*/React__default.createElement(ListBoxSelection, {\n          clearSelection: function clearSelection() {\n            _clearSelection();\n\n            if (textInput.current) {\n              textInput.current.focus();\n            }\n          },\n          selectionCount: selectedItem.length,\n          translateWithId: translateWithId,\n          disabled: disabled\n        }), /*#__PURE__*/React__default.createElement(\"input\", _extends({\n          className: inputClasses\n        }, rootProps, inputProps, {\n          ref: mergeRefs(textInput, rootProps.ref)\n        })), invalid && /*#__PURE__*/React__default.createElement(WarningFilled, {\n          className: \"\".concat(prefix, \"--list-box__invalid-icon\")\n        }), showWarning && /*#__PURE__*/React__default.createElement(WarningAltFilled, {\n          className: \"\".concat(prefix, \"--list-box__invalid-icon \").concat(prefix, \"--list-box__invalid-icon--warning\")\n        }), inputValue && /*#__PURE__*/React__default.createElement(ListBoxSelection, {\n          clearSelection: clearInputValue,\n          disabled: disabled,\n          translateWithId: translateWithId,\n          onMouseUp: function onMouseUp(event) {\n            // If we do not stop this event from propagating,\n            // it seems like Downshift takes our event and\n            // prevents us from getting `onClick` /\n            // `clearSelection` from the underlying <button> in\n            // ListBoxSelection\n            event.stopPropagation();\n          }\n        }), /*#__PURE__*/React__default.createElement(ListBoxTrigger, _extends({}, buttonProps, {\n          isOpen: isOpen,\n          translateWithId: translateWithId\n        }))), isOpen ? /*#__PURE__*/React__default.createElement(ListBox.Menu, menuProps, sortItems(filterItems(items, {\n          itemToString: itemToString,\n          inputValue: inputValue\n        }), {\n          selectedItems: {\n            top: selectedItems,\n            fixed: [],\n            'top-after-reopen': topItems\n          }[selectionFeedback],\n          itemToString: itemToString,\n          compareItems: compareItems,\n          locale: locale\n        }).map(function (item, index) {\n          var itemProps = getItemProps({\n            item: item,\n            disabled: item.disabled\n          });\n          var itemText = itemToString(item);\n          var isChecked = selectedItem.filter(function (selected) {\n            return isEqual(selected, item);\n          }).length > 0;\n          return /*#__PURE__*/React__default.createElement(ListBox.MenuItem, _extends({\n            key: itemProps.id,\n            \"aria-label\": itemText,\n            isActive: isChecked,\n            isHighlighted: highlightedIndex === index,\n            title: itemText\n          }, itemProps), /*#__PURE__*/React__default.createElement(\"div\", {\n            className: \"\".concat(prefix, \"--checkbox-wrapper\")\n          }, /*#__PURE__*/React__default.createElement(\"span\", {\n            title: useTitleInItem ? itemText : null,\n            className: \"\".concat(prefix, \"--checkbox-label\"),\n            \"data-contained-checkbox-state\": isChecked,\n            id: \"\".concat(itemProps.id, \"-item\")\n          }, ItemToElement ? /*#__PURE__*/React__default.createElement(ItemToElement, _extends({\n            key: itemProps.id\n          }, item)) : itemText)));\n        })) : null), !inline && !invalid && !warn ? helper : null);\n      });\n    }\n  });\n});\nFilterableMultiSelect.propTypes = _objectSpread2(_objectSpread2({\n  /**\n   * 'aria-label' of the ListBox component.\n   */\n  ariaLabel: PropTypes.string,\n\n  /**\n   * Specify the direction of the multiselect dropdown. Can be either top or bottom.\n   */\n  direction: PropTypes.oneOf(['top', 'bottom']),\n\n  /**\n   * Disable the control\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * Additional props passed to Downshift\n   */\n  downshiftProps: PropTypes.shape(Downshift.propTypes),\n\n  /**\n   * Specify whether the title text should be hidden or not\n   */\n  hideLabel: PropTypes.bool,\n\n  /**\n   * Specify a custom `id`\n   */\n  id: PropTypes.string.isRequired,\n\n  /**\n   * Allow users to pass in arbitrary items from their collection that are\n   * pre-selected\n   */\n  initialSelectedItems: PropTypes.array,\n\n  /**\n   * Is the current selection invalid?\n   */\n  invalid: PropTypes.bool,\n\n  /**\n   * If invalid, what is the error?\n   */\n  invalidText: PropTypes.node,\n\n  /**\n   * Function to render items as custom components instead of strings.\n   * Defaults to null and is overridden by a getter\n   */\n  itemToElement: PropTypes.func,\n\n  /**\n   * Helper function passed to downshift that allows the library to render a\n   * given item to a string label. By default, it extracts the `label` field\n   * from a given item to serve as the item label in the list.\n   */\n  itemToString: PropTypes.func,\n\n  /**\n   * We try to stay as generic as possible here to allow individuals to pass\n   * in a collection of whatever kind of data structure they prefer\n   */\n  items: PropTypes.array.isRequired,\n\n  /**\n   * `true` to use the light version.\n   */\n  light: deprecate(PropTypes.bool, 'The `light` prop for `FilterableMultiSelect` has ' + 'been deprecated in favor of the new `Layer` component. It will be removed in the next major release.'),\n\n  /**\n   * Specify the locale of the control. Used for the default `compareItems`\n   * used for sorting the list of items in the control.\n   */\n  locale: PropTypes.string,\n\n  /**\n   * `onChange` is a utility for this controlled component to communicate to a\n   * consuming component what kind of internal state changes are occurring.\n   */\n  onChange: PropTypes.func,\n\n  /**\n   * `onInputValueChange` is a utility for this controlled component to communicate to\n   * the currently typed input.\n   */\n  onInputValueChange: PropTypes.func,\n\n  /**\n   * `onMenuChange` is a utility for this controlled component to communicate to a\n   * consuming component that the menu was opened(`true`)/closed(`false`).\n   */\n  onMenuChange: PropTypes.func,\n\n  /**\n   * Initialize the component with an open(`true`)/closed(`false`) menu.\n   */\n  open: PropTypes.bool,\n\n  /**\n   * Generic `placeholder` that will be used as the textual representation of\n   * what this field is for\n   */\n  placeholder: PropTypes.string,\n\n  /**\n   * Specify feedback (mode) of the selection.\n   * `top`: selected item jumps to top\n   * `fixed`: selected item stays at it's position\n   * `top-after-reopen`: selected item jump to top after reopen dropdown\n   */\n  selectionFeedback: PropTypes.oneOf(['top', 'fixed', 'top-after-reopen']),\n\n  /**\n   * Specify the size of the ListBox. Currently supports either `sm`, `md` or `lg` as an option.\n   */\n  size: ListBoxSize\n}, sortingPropTypes), {}, {\n  /**\n   * Callback function for translating ListBoxMenuIcon SVG title\n   */\n  translateWithId: PropTypes.func,\n\n  /**\n   * Specify title to show title on hover\n   */\n  useTitleInItem: PropTypes.bool,\n\n  /**\n   * Specify whether the control is currently in warning state\n   */\n  warn: PropTypes.bool,\n\n  /**\n   * Provide the text that is displayed when the control is in warning state\n   */\n  warnText: PropTypes.node\n});\nFilterableMultiSelect.defaultProps = {\n  ariaLabel: 'Choose an item',\n  compareItems: defaultCompareItems,\n  direction: 'bottom',\n  disabled: false,\n  filterItems: defaultFilterItems,\n  initialSelectedItems: [],\n  itemToString: defaultItemToString,\n  locale: 'en',\n  sortItems: defaultSortItems,\n  open: false,\n  selectionFeedback: 'top-after-reopen'\n};\n\nexport { FilterableMultiSelect as default };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}