{"ast":null,"code":"/**\n * Copyright IBM Corp. 2016, 2022\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { objectWithoutProperties as _objectWithoutProperties, slicedToArray as _slicedToArray, defineProperty as _defineProperty, extends as _extends, objectSpread2 as _objectSpread2 } from '../../_virtual/_rollupPluginBabelHelpers.js';\nimport cx from 'classnames';\nimport Downshift from 'downshift';\nimport PropTypes from 'prop-types';\nimport React__default, { useContext, useRef, useState, useEffect } from 'react';\nimport '../Text/index.js';\nimport { WarningFilled, WarningAltFilled, Checkmark } from '@carbon/icons-react';\nimport '../ListBox/index.js';\nimport ListBoxSelection from '../ListBox/next/ListBoxSelection.js';\nimport ListBoxTrigger from '../ListBox/next/ListBoxTrigger.js';\nimport { Space, Enter } from '../../internal/keyboard/keys.js';\nimport { match } from '../../internal/keyboard/match.js';\nimport setupGetInstanceId from '../../tools/setupGetInstanceId.js';\nimport mergeRefs from '../../tools/mergeRefs.js';\nimport { useFeatureFlag } from '../FeatureFlags/index.js';\nimport deprecate from '../../prop-types/deprecate.js';\nimport { usePrefix } from '../../internal/usePrefix.js';\nimport '../FluidForm/FluidForm.js';\nimport { FormContext } from '../FluidForm/FormContext.js';\nimport { Text } from '../Text/Text.js';\nimport ListBox from '../ListBox/ListBox.js';\nimport { ListBoxSize, ListBoxType } from '../ListBox/ListBoxPropTypes.js';\nvar _excluded = [\"ariaLabel\", \"className\", \"direction\", \"disabled\", \"downshiftProps\", \"helperText\", \"id\", \"initialSelectedItem\", \"invalid\", \"invalidText\", \"items\", \"itemToElement\", \"itemToString\", \"light\", \"onChange\", \"onInputChange\", \"onToggleClick\", \"placeholder\", \"readOnly\", \"selectedItem\", \"shouldFilterItem\", \"size\", \"titleText\", \"translateWithId\", \"type\", \"warn\", \"warnText\", \"onStateChange\"];\nvar defaultItemToString = function defaultItemToString(item) {\n  if (typeof item === 'string') {\n    return item;\n  }\n  return item && item.label;\n};\nvar defaultShouldFilterItem = function defaultShouldFilterItem() {\n  return true;\n};\nvar getInputValue = function getInputValue(_ref) {\n  var initialSelectedItem = _ref.initialSelectedItem,\n    inputValue = _ref.inputValue,\n    itemToString = _ref.itemToString,\n    selectedItem = _ref.selectedItem;\n  if (selectedItem) {\n    return itemToString(selectedItem);\n  }\n  if (initialSelectedItem) {\n    return itemToString(initialSelectedItem);\n  }\n  return inputValue || '';\n};\nvar findHighlightedIndex = function findHighlightedIndex(_ref2, inputValue) {\n  var items = _ref2.items,\n    itemToString = _ref2.itemToString;\n  if (!inputValue) {\n    return -1;\n  }\n  var searchValue = inputValue.toLowerCase();\n  for (var i = 0; i < items.length; i++) {\n    var item = itemToString(items[i]).toLowerCase();\n    if (item.indexOf(searchValue) !== -1) {\n      return i;\n    }\n  }\n  return -1;\n};\nvar getInstanceId = setupGetInstanceId();\nvar ComboBox = /*#__PURE__*/React__default.forwardRef(function (props, ref) {\n  var _cx, _ref4, _Text;\n  var ariaLabel = props.ariaLabel,\n    containerClassName = props.className,\n    direction = props.direction,\n    disabled = props.disabled,\n    downshiftProps = props.downshiftProps,\n    helperText = props.helperText,\n    id = props.id,\n    initialSelectedItem = props.initialSelectedItem,\n    invalid = props.invalid,\n    invalidText = props.invalidText,\n    items = props.items,\n    itemToElement = props.itemToElement,\n    itemToString = props.itemToString,\n    light = props.light,\n    onChange = props.onChange,\n    onInputChange = props.onInputChange,\n    onToggleClick = props.onToggleClick,\n    placeholder = props.placeholder,\n    readOnly = props.readOnly,\n    selectedItem = props.selectedItem,\n    shouldFilterItem = props.shouldFilterItem,\n    size = props.size,\n    titleText = props.titleText,\n    translateWithId = props.translateWithId;\n  props.type;\n  var warn = props.warn,\n    warnText = props.warnText;\n  props.onStateChange;\n  var rest = _objectWithoutProperties(props, _excluded);\n  var prefix = usePrefix();\n  var _useContext = useContext(FormContext),\n    isFluid = _useContext.isFluid;\n  var textInput = useRef();\n  var comboBoxInstanceId = getInstanceId();\n  var _useState = useState(getInputValue({\n      initialSelectedItem: initialSelectedItem,\n      inputValue: '',\n      itemToString: itemToString,\n      selectedItem: selectedItem\n    })),\n    _useState2 = _slicedToArray(_useState, 2),\n    inputValue = _useState2[0],\n    setInputValue = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    isFocused = _useState4[0],\n    setIsFocused = _useState4[1];\n  var _useState5 = useState(null),\n    _useState6 = _slicedToArray(_useState5, 2),\n    prevSelectedItem = _useState6[0],\n    setPrevSelectedItem = _useState6[1];\n  var _useState7 = useState(null),\n    _useState8 = _slicedToArray(_useState7, 2),\n    doneInitialSelectedItem = _useState8[0],\n    setDoneInitialSelectedItem = _useState8[1];\n  var savedOnInputChange = useRef(onInputChange);\n  if (!doneInitialSelectedItem || prevSelectedItem !== selectedItem) {\n    setDoneInitialSelectedItem(true);\n    setPrevSelectedItem(selectedItem);\n    setInputValue(getInputValue({\n      initialSelectedItem: initialSelectedItem,\n      inputValue: inputValue,\n      itemToString: itemToString,\n      selectedItem: selectedItem\n    }));\n  }\n  var filterItems = function filterItems(items, itemToString, inputValue) {\n    return items.filter(function (item) {\n      return shouldFilterItem({\n        item: item,\n        itemToString: itemToString,\n        inputValue: inputValue\n      });\n    });\n  };\n  var handleOnChange = function handleOnChange(selectedItem) {\n    if (onChange) {\n      onChange({\n        selectedItem: selectedItem\n      });\n    }\n  };\n  var handleOnInputValueChange = function handleOnInputValueChange(inputValue) {\n    setInputValue(inputValue || '');\n  };\n  useEffect(function () {\n    savedOnInputChange.current = onInputChange;\n  }, [onInputChange]);\n  useEffect(function () {\n    if (savedOnInputChange.current) {\n      savedOnInputChange.current(inputValue);\n    }\n  }, [inputValue]);\n  var handleSelectionClear = function handleSelectionClear() {\n    if (textInput !== null && textInput !== void 0 && textInput.current) {\n      textInput.current.focus();\n    }\n  };\n  var handleOnStateChange = function handleOnStateChange(newState, _ref3) {\n    var setHighlightedIndex = _ref3.setHighlightedIndex;\n    if (Object.prototype.hasOwnProperty.call(newState, 'inputValue')) {\n      var _inputValue = newState.inputValue;\n      var filteredItems = filterItems(items, itemToString, _inputValue);\n      setHighlightedIndex(findHighlightedIndex(_objectSpread2(_objectSpread2({}, props), {}, {\n        items: filteredItems\n      }), _inputValue));\n    }\n  };\n  var handleToggleClick = function handleToggleClick(isOpen) {\n    return function (event) {\n      if (onToggleClick) {\n        onToggleClick(event);\n      }\n      if (event.target === textInput.current && isOpen) {\n        event.preventDownshiftDefault = true;\n        event.persist();\n      }\n    };\n  };\n  var enabled = useFeatureFlag('enable-v11-release');\n  var showWarning = !invalid && warn;\n  var className = cx(\"\".concat(prefix, \"--combo-box\"), [enabled ? null : containerClassName], (_cx = {}, _defineProperty(_cx, \"\".concat(prefix, \"--list-box--up\"), direction === 'top'), _defineProperty(_cx, \"\".concat(prefix, \"--combo-box--warning\"), showWarning), _defineProperty(_cx, \"\".concat(prefix, \"--combo-box--readonly\"), readOnly), _cx));\n  var titleClasses = cx(\"\".concat(prefix, \"--label\"), _defineProperty({}, \"\".concat(prefix, \"--label--disabled\"), disabled));\n  var comboBoxHelperId = !helperText ? undefined : \"combobox-helper-text-\".concat(comboBoxInstanceId);\n  var helperClasses = cx(\"\".concat(prefix, \"--form__helper-text\"), _defineProperty({}, \"\".concat(prefix, \"--form__helper-text--disabled\"), disabled));\n  var wrapperClasses = cx(\"\".concat(prefix, \"--list-box__wrapper\"), [enabled ? containerClassName : null, (_ref4 = {}, _defineProperty(_ref4, \"\".concat(prefix, \"--list-box__wrapper--fluid--invalid\"), isFluid && invalid), _defineProperty(_ref4, \"\".concat(prefix, \"--list-box__wrapper--fluid--focus\"), isFluid && isFocused), _ref4)]);\n  var inputClasses = cx(\"\".concat(prefix, \"--text-input\"), _defineProperty({}, \"\".concat(prefix, \"--text-input--empty\"), !inputValue)); // needs to be Capitalized for react to render it correctly\n\n  var ItemToElement = itemToElement;\n  return /*#__PURE__*/React__default.createElement(Downshift, _extends({}, downshiftProps, {\n    onChange: handleOnChange,\n    onInputValueChange: handleOnInputValueChange,\n    onStateChange: function onStateChange() {\n      var _downshiftProps$onSta;\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      handleOnStateChange.apply(void 0, args);\n      downshiftProps === null || downshiftProps === void 0 ? void 0 : (_downshiftProps$onSta = downshiftProps.onStateChange) === null || _downshiftProps$onSta === void 0 ? void 0 : _downshiftProps$onSta.call.apply(_downshiftProps$onSta, [downshiftProps].concat(args));\n    },\n    inputValue: inputValue || '',\n    itemToString: itemToString,\n    initialSelectedItem: initialSelectedItem,\n    inputId: id,\n    selectedItem: selectedItem\n  }), function (_ref5) {\n    var _textInput$current;\n    var getInputProps = _ref5.getInputProps,\n      getItemProps = _ref5.getItemProps,\n      getLabelProps = _ref5.getLabelProps,\n      getMenuProps = _ref5.getMenuProps,\n      getRootProps = _ref5.getRootProps,\n      getToggleButtonProps = _ref5.getToggleButtonProps,\n      isOpen = _ref5.isOpen,\n      inputValue = _ref5.inputValue,\n      selectedItem = _ref5.selectedItem,\n      highlightedIndex = _ref5.highlightedIndex,\n      clearSelection = _ref5.clearSelection,\n      toggleMenu = _ref5.toggleMenu;\n    var rootProps = getRootProps({}, {\n      suppressRefError: true\n    });\n    var labelProps = getLabelProps();\n    var buttonProps = getToggleButtonProps({\n      disabled: disabled || readOnly,\n      onClick: handleToggleClick(isOpen),\n      // When we moved the \"root node\" of Downshift to the <input> for\n      // ARIA 1.2 compliance, we unfortunately hit this branch for the\n      // \"mouseup\" event that downshift listens to:\n      // https://github.com/downshift-js/downshift/blob/v5.2.1/src/downshift.js#L1051-L1065\n      //\n      // As a result, it will reset the state of the component and so we\n      // stop the event from propagating to prevent this if the menu is already open.\n      // This allows the toggleMenu behavior for the toggleButton to correctly open and\n      // close the menu.\n      onMouseUp: function onMouseUp(event) {\n        if (isOpen) {\n          event.stopPropagation();\n        }\n      }\n    });\n    var inputProps = getInputProps({\n      // Remove excess aria `aria-labelledby`. HTML <label for> provides this aria information.\n      'aria-labelledby': null,\n      disabled: disabled,\n      placeholder: placeholder,\n      onClick: function onClick() {\n        toggleMenu();\n      },\n      onKeyDown: function onKeyDown(event) {\n        if (match(event, Space)) {\n          event.stopPropagation();\n        }\n        if (match(event, Enter) && !inputValue) {\n          toggleMenu();\n        }\n      }\n    });\n    var handleFocus = function handleFocus(evt) {\n      if (evt.target.type === 'button') {\n        setIsFocused(false);\n      } else {\n        setIsFocused(evt.type === 'focus' ? true : false);\n      }\n    };\n    var readOnlyEventHandlers = readOnly ? {\n      onKeyDown: function onKeyDown(evt) {\n        // This prevents the select from opening for the above keys\n        if (evt.key !== 'Tab') {\n          evt.preventDefault();\n        }\n      }\n    } : {};\n    return /*#__PURE__*/React__default.createElement(\"div\", {\n      className: wrapperClasses\n    }, titleText && /*#__PURE__*/React__default.createElement(Text, _extends({\n      as: \"label\",\n      className: titleClasses\n    }, labelProps), titleText), /*#__PURE__*/React__default.createElement(ListBox, {\n      onFocus: handleFocus,\n      onBlur: handleFocus,\n      className: className,\n      disabled: disabled,\n      invalid: invalid,\n      invalidText: invalidText,\n      isOpen: isOpen,\n      light: light,\n      size: size,\n      warn: warn,\n      warnText: warnText\n    }, /*#__PURE__*/React__default.createElement(\"div\", {\n      className: \"\".concat(prefix, \"--list-box__field\")\n    }, /*#__PURE__*/React__default.createElement(\"input\", _extends({\n      role: \"combobox\",\n      disabled: disabled,\n      className: inputClasses,\n      type: \"text\",\n      tabIndex: \"0\",\n      \"aria-autocomplete\": \"list\",\n      \"aria-expanded\": rootProps['aria-expanded'],\n      \"aria-haspopup\": \"listbox\",\n      \"aria-controls\": inputProps['aria-controls'],\n      title: textInput === null || textInput === void 0 ? void 0 : (_textInput$current = textInput.current) === null || _textInput$current === void 0 ? void 0 : _textInput$current.value\n    }, inputProps, rest, readOnlyEventHandlers, {\n      readOnly: readOnly,\n      ref: mergeRefs(textInput, ref)\n    })), invalid && /*#__PURE__*/React__default.createElement(WarningFilled, {\n      className: \"\".concat(prefix, \"--list-box__invalid-icon\")\n    }), showWarning && /*#__PURE__*/React__default.createElement(WarningAltFilled, {\n      className: \"\".concat(prefix, \"--list-box__invalid-icon \").concat(prefix, \"--list-box__invalid-icon--warning\")\n    }), inputValue && /*#__PURE__*/React__default.createElement(ListBoxSelection, {\n      clearSelection: clearSelection,\n      translateWithId: translateWithId,\n      disabled: disabled || readOnly,\n      onClearSelection: handleSelectionClear\n    }), /*#__PURE__*/React__default.createElement(ListBoxTrigger, _extends({}, buttonProps, {\n      isOpen: isOpen,\n      translateWithId: translateWithId\n    }))), /*#__PURE__*/React__default.createElement(ListBox.Menu, getMenuProps({\n      'aria-label': ariaLabel\n    }), isOpen ? filterItems(items, itemToString, inputValue).map(function (item, index) {\n      var _getItemProps;\n      var itemProps = getItemProps((_getItemProps = {\n        item: item,\n        index: index\n      }, _defineProperty(_getItemProps, 'aria-current', selectedItem === item ? true : null), _defineProperty(_getItemProps, 'aria-selected', highlightedIndex === index ? true : null), _defineProperty(_getItemProps, \"disabled\", item.disabled), _getItemProps));\n      return /*#__PURE__*/React__default.createElement(ListBox.MenuItem, _extends({\n        key: itemProps.id,\n        isActive: selectedItem === item,\n        isHighlighted: highlightedIndex === index || (selectedItem === null || selectedItem === void 0 ? void 0 : selectedItem.id) && (selectedItem === null || selectedItem === void 0 ? void 0 : selectedItem.id) === item.id || false,\n        title: itemToElement ? item.text : itemToString(item)\n      }, itemProps), itemToElement ? /*#__PURE__*/React__default.createElement(ItemToElement, _extends({\n        key: itemProps.id\n      }, item)) : itemToString(item), selectedItem === item && /*#__PURE__*/React__default.createElement(Checkmark, {\n        className: \"\".concat(prefix, \"--list-box__menu-item__selected-icon\")\n      }));\n    }) : null)), helperText && !invalid && !warn && !isFluid && (_Text || (_Text = /*#__PURE__*/React__default.createElement(Text, {\n      as: \"div\",\n      id: comboBoxHelperId,\n      className: helperClasses\n    }, helperText))));\n  });\n});\nComboBox.displayName = 'ComboBox';\nComboBox.propTypes = {\n  /**\n   * 'aria-label' of the ListBox component.\n   */\n  ariaLabel: PropTypes.string,\n  /**\n   * An optional className to add to the container node\n   */\n  className: PropTypes.string,\n  /**\n   * Specify the direction of the combobox dropdown. Can be either top or bottom.\n   */\n  direction: PropTypes.oneOf(['top', 'bottom']),\n  /**\n   * Specify if the control should be disabled, or not\n   */\n  disabled: PropTypes.bool,\n  /**\n   * Additional props passed to Downshift\n   */\n  downshiftProps: PropTypes.shape(Downshift.propTypes),\n  /**\n   * Provide helper text that is used alongside the control label for\n   * additional help\n   */\n  helperText: PropTypes.string,\n  /**\n   * Specify a custom `id` for the input\n   */\n  id: PropTypes.string.isRequired,\n  /**\n   * Allow users to pass in an arbitrary item or a string (in case their items are an array of strings)\n   * from their collection that are pre-selected\n   */\n  initialSelectedItem: PropTypes.oneOfType([PropTypes.object, PropTypes.string, PropTypes.number]),\n  /**\n   * Specify if the currently selected value is invalid.\n   */\n  invalid: PropTypes.bool,\n  /**\n   * Message which is displayed if the value is invalid.\n   */\n  invalidText: PropTypes.node,\n  /**\n   * Optional function to render items as custom components instead of strings.\n   * Defaults to null and is overridden by a getter\n   */\n  itemToElement: PropTypes.func,\n  /**\n   * Helper function passed to downshift that allows the library to render a\n   * given item to a string label. By default, it extracts the `label` field\n   * from a given item to serve as the item label in the list\n   */\n  itemToString: PropTypes.func,\n  /**\n   * We try to stay as generic as possible here to allow individuals to pass\n   * in a collection of whatever kind of data structure they prefer\n   */\n  items: PropTypes.array.isRequired,\n  /**\n   * should use \"light theme\" (white background)?\n   */\n  light: deprecate(PropTypes.bool, 'The `light` prop for `Combobox` has ' + 'been deprecated in favor of the new `Layer` component. It will be removed in the next major release.'),\n  /**\n   * `onChange` is a utility for this controlled component to communicate to a\n   * consuming component when a specific dropdown item is selected.\n   * @param {{ selectedItem }}\n   */\n  onChange: PropTypes.func.isRequired,\n  /**\n   * Callback function to notify consumer when the text input changes.\n   * This provides support to change available items based on the text.\n   * @param {string} inputText\n   */\n  onInputChange: PropTypes.func,\n  /**\n   * Helper function passed to Downshift that allows the user to observe internal\n   * state changes\n   */\n  onStateChange: PropTypes.func,\n  /**\n   * Callback function that fires when the combobox menu toggle is clicked\n   * @param {MouseEvent} event\n   */\n  onToggleClick: PropTypes.func,\n  /**\n   * Used to provide a placeholder text node before a user enters any input.\n   * This is only present if the control has no items selected\n   */\n  placeholder: PropTypes.string,\n  /**\n   * Is the ComboBox readonly?\n   */\n  readOnly: PropTypes.bool,\n  /**\n   * For full control of the selection\n   */\n  selectedItem: PropTypes.oneOfType([PropTypes.object, PropTypes.string, PropTypes.number]),\n  /**\n   * Specify your own filtering logic by passing in a `shouldFilterItem`\n   * function that takes in the current input and an item and passes back\n   * whether or not the item should be filtered.\n   */\n  shouldFilterItem: PropTypes.func,\n  /**\n   * Specify the size of the ListBox. Currently supports either `sm`, `md` or `lg` as an option.\n   */\n  size: ListBoxSize,\n  /**\n   * Provide text to be used in a `<label>` element that is tied to the\n   * combobox via ARIA attributes.\n   */\n  titleText: PropTypes.node,\n  /**\n   * Specify a custom translation function that takes in a message identifier\n   * and returns the localized string for the message\n   */\n  translateWithId: PropTypes.func,\n  /**\n   * Currently supports either the default type, or an inline variant\n   */\n  type: ListBoxType,\n  /**\n   * Specify whether the control is currently in warning state\n   */\n  warn: PropTypes.bool,\n  /**\n   * Provide the text that is displayed when the control is in warning state\n   */\n  warnText: PropTypes.node\n};\nComboBox.defaultProps = {\n  disabled: false,\n  itemToString: defaultItemToString,\n  itemToElement: null,\n  shouldFilterItem: defaultShouldFilterItem,\n  type: 'default',\n  ariaLabel: 'Choose an item',\n  direction: 'bottom'\n};\nexport { ComboBox as default };","map":{"version":3,"names":["objectWithoutProperties","_objectWithoutProperties","slicedToArray","_slicedToArray","defineProperty","_defineProperty","extends","_extends","objectSpread2","_objectSpread2","cx","Downshift","PropTypes","React__default","useContext","useRef","useState","useEffect","WarningFilled","WarningAltFilled","Checkmark","ListBoxSelection","ListBoxTrigger","Space","Enter","match","setupGetInstanceId","mergeRefs","useFeatureFlag","deprecate","usePrefix","FormContext","Text","ListBox","ListBoxSize","ListBoxType","_excluded","defaultItemToString","item","label","defaultShouldFilterItem","getInputValue","_ref","initialSelectedItem","inputValue","itemToString","selectedItem","findHighlightedIndex","_ref2","items","searchValue","toLowerCase","i","length","indexOf","getInstanceId","ComboBox","forwardRef","props","ref","_cx","_ref4","_Text","ariaLabel","containerClassName","className","direction","disabled","downshiftProps","helperText","id","invalid","invalidText","itemToElement","light","onChange","onInputChange","onToggleClick","placeholder","readOnly","shouldFilterItem","size","titleText","translateWithId","type","warn","warnText","onStateChange","rest","prefix","_useContext","isFluid","textInput","comboBoxInstanceId","_useState","_useState2","setInputValue","_useState3","_useState4","isFocused","setIsFocused","_useState5","_useState6","prevSelectedItem","setPrevSelectedItem","_useState7","_useState8","doneInitialSelectedItem","setDoneInitialSelectedItem","savedOnInputChange","filterItems","filter","handleOnChange","handleOnInputValueChange","current","handleSelectionClear","focus","handleOnStateChange","newState","_ref3","setHighlightedIndex","Object","prototype","hasOwnProperty","call","_inputValue","filteredItems","handleToggleClick","isOpen","event","target","preventDownshiftDefault","persist","enabled","showWarning","concat","titleClasses","comboBoxHelperId","undefined","helperClasses","wrapperClasses","inputClasses","ItemToElement","createElement","onInputValueChange","_downshiftProps$onSta","_len","arguments","args","Array","_key","apply","inputId","_ref5","_textInput$current","getInputProps","getItemProps","getLabelProps","getMenuProps","getRootProps","getToggleButtonProps","highlightedIndex","clearSelection","toggleMenu","rootProps","suppressRefError","labelProps","buttonProps","onClick","onMouseUp","stopPropagation","inputProps","onKeyDown","handleFocus","evt","readOnlyEventHandlers","key","preventDefault","as","onFocus","onBlur","role","tabIndex","title","value","onClearSelection","Menu","map","index","_getItemProps","itemProps","MenuItem","isActive","isHighlighted","text","displayName","propTypes","string","oneOf","bool","shape","isRequired","oneOfType","object","number","node","func","array","defaultProps","default"],"sources":["C:/Users/Administrator/Desktop/nerf/node_modules/@carbon/react/es/components/ComboBox/ComboBox.js"],"sourcesContent":["/**\n * Copyright IBM Corp. 2016, 2022\n *\n * This source code is licensed under the Apache-2.0 license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nimport { objectWithoutProperties as _objectWithoutProperties, slicedToArray as _slicedToArray, defineProperty as _defineProperty, extends as _extends, objectSpread2 as _objectSpread2 } from '../../_virtual/_rollupPluginBabelHelpers.js';\nimport cx from 'classnames';\nimport Downshift from 'downshift';\nimport PropTypes from 'prop-types';\nimport React__default, { useContext, useRef, useState, useEffect } from 'react';\nimport '../Text/index.js';\nimport { WarningFilled, WarningAltFilled, Checkmark } from '@carbon/icons-react';\nimport '../ListBox/index.js';\nimport ListBoxSelection from '../ListBox/next/ListBoxSelection.js';\nimport ListBoxTrigger from '../ListBox/next/ListBoxTrigger.js';\nimport { Space, Enter } from '../../internal/keyboard/keys.js';\nimport { match } from '../../internal/keyboard/match.js';\nimport setupGetInstanceId from '../../tools/setupGetInstanceId.js';\nimport mergeRefs from '../../tools/mergeRefs.js';\nimport { useFeatureFlag } from '../FeatureFlags/index.js';\nimport deprecate from '../../prop-types/deprecate.js';\nimport { usePrefix } from '../../internal/usePrefix.js';\nimport '../FluidForm/FluidForm.js';\nimport { FormContext } from '../FluidForm/FormContext.js';\nimport { Text } from '../Text/Text.js';\nimport ListBox from '../ListBox/ListBox.js';\nimport { ListBoxSize, ListBoxType } from '../ListBox/ListBoxPropTypes.js';\n\nvar _excluded = [\"ariaLabel\", \"className\", \"direction\", \"disabled\", \"downshiftProps\", \"helperText\", \"id\", \"initialSelectedItem\", \"invalid\", \"invalidText\", \"items\", \"itemToElement\", \"itemToString\", \"light\", \"onChange\", \"onInputChange\", \"onToggleClick\", \"placeholder\", \"readOnly\", \"selectedItem\", \"shouldFilterItem\", \"size\", \"titleText\", \"translateWithId\", \"type\", \"warn\", \"warnText\", \"onStateChange\"];\n\nvar defaultItemToString = function defaultItemToString(item) {\n  if (typeof item === 'string') {\n    return item;\n  }\n\n  return item && item.label;\n};\n\nvar defaultShouldFilterItem = function defaultShouldFilterItem() {\n  return true;\n};\n\nvar getInputValue = function getInputValue(_ref) {\n  var initialSelectedItem = _ref.initialSelectedItem,\n      inputValue = _ref.inputValue,\n      itemToString = _ref.itemToString,\n      selectedItem = _ref.selectedItem;\n\n  if (selectedItem) {\n    return itemToString(selectedItem);\n  }\n\n  if (initialSelectedItem) {\n    return itemToString(initialSelectedItem);\n  }\n\n  return inputValue || '';\n};\n\nvar findHighlightedIndex = function findHighlightedIndex(_ref2, inputValue) {\n  var items = _ref2.items,\n      itemToString = _ref2.itemToString;\n\n  if (!inputValue) {\n    return -1;\n  }\n\n  var searchValue = inputValue.toLowerCase();\n\n  for (var i = 0; i < items.length; i++) {\n    var item = itemToString(items[i]).toLowerCase();\n\n    if (item.indexOf(searchValue) !== -1) {\n      return i;\n    }\n  }\n\n  return -1;\n};\n\nvar getInstanceId = setupGetInstanceId();\nvar ComboBox = /*#__PURE__*/React__default.forwardRef(function (props, ref) {\n  var _cx, _ref4, _Text;\n\n  var ariaLabel = props.ariaLabel,\n      containerClassName = props.className,\n      direction = props.direction,\n      disabled = props.disabled,\n      downshiftProps = props.downshiftProps,\n      helperText = props.helperText,\n      id = props.id,\n      initialSelectedItem = props.initialSelectedItem,\n      invalid = props.invalid,\n      invalidText = props.invalidText,\n      items = props.items,\n      itemToElement = props.itemToElement,\n      itemToString = props.itemToString,\n      light = props.light,\n      onChange = props.onChange,\n      onInputChange = props.onInputChange,\n      onToggleClick = props.onToggleClick,\n      placeholder = props.placeholder,\n      readOnly = props.readOnly,\n      selectedItem = props.selectedItem,\n      shouldFilterItem = props.shouldFilterItem,\n      size = props.size,\n      titleText = props.titleText,\n      translateWithId = props.translateWithId;\n      props.type;\n      var warn = props.warn,\n      warnText = props.warnText;\n      props.onStateChange;\n      var rest = _objectWithoutProperties(props, _excluded);\n\n  var prefix = usePrefix();\n\n  var _useContext = useContext(FormContext),\n      isFluid = _useContext.isFluid;\n\n  var textInput = useRef();\n  var comboBoxInstanceId = getInstanceId();\n\n  var _useState = useState(getInputValue({\n    initialSelectedItem: initialSelectedItem,\n    inputValue: '',\n    itemToString: itemToString,\n    selectedItem: selectedItem\n  })),\n      _useState2 = _slicedToArray(_useState, 2),\n      inputValue = _useState2[0],\n      setInputValue = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      isFocused = _useState4[0],\n      setIsFocused = _useState4[1];\n\n  var _useState5 = useState(null),\n      _useState6 = _slicedToArray(_useState5, 2),\n      prevSelectedItem = _useState6[0],\n      setPrevSelectedItem = _useState6[1];\n\n  var _useState7 = useState(null),\n      _useState8 = _slicedToArray(_useState7, 2),\n      doneInitialSelectedItem = _useState8[0],\n      setDoneInitialSelectedItem = _useState8[1];\n\n  var savedOnInputChange = useRef(onInputChange);\n\n  if (!doneInitialSelectedItem || prevSelectedItem !== selectedItem) {\n    setDoneInitialSelectedItem(true);\n    setPrevSelectedItem(selectedItem);\n    setInputValue(getInputValue({\n      initialSelectedItem: initialSelectedItem,\n      inputValue: inputValue,\n      itemToString: itemToString,\n      selectedItem: selectedItem\n    }));\n  }\n\n  var filterItems = function filterItems(items, itemToString, inputValue) {\n    return items.filter(function (item) {\n      return shouldFilterItem({\n        item: item,\n        itemToString: itemToString,\n        inputValue: inputValue\n      });\n    });\n  };\n\n  var handleOnChange = function handleOnChange(selectedItem) {\n    if (onChange) {\n      onChange({\n        selectedItem: selectedItem\n      });\n    }\n  };\n\n  var handleOnInputValueChange = function handleOnInputValueChange(inputValue) {\n    setInputValue(inputValue || '');\n  };\n\n  useEffect(function () {\n    savedOnInputChange.current = onInputChange;\n  }, [onInputChange]);\n  useEffect(function () {\n    if (savedOnInputChange.current) {\n      savedOnInputChange.current(inputValue);\n    }\n  }, [inputValue]);\n\n  var handleSelectionClear = function handleSelectionClear() {\n    if (textInput !== null && textInput !== void 0 && textInput.current) {\n      textInput.current.focus();\n    }\n  };\n\n  var handleOnStateChange = function handleOnStateChange(newState, _ref3) {\n    var setHighlightedIndex = _ref3.setHighlightedIndex;\n\n    if (Object.prototype.hasOwnProperty.call(newState, 'inputValue')) {\n      var _inputValue = newState.inputValue;\n      var filteredItems = filterItems(items, itemToString, _inputValue);\n      setHighlightedIndex(findHighlightedIndex(_objectSpread2(_objectSpread2({}, props), {}, {\n        items: filteredItems\n      }), _inputValue));\n    }\n  };\n\n  var handleToggleClick = function handleToggleClick(isOpen) {\n    return function (event) {\n      if (onToggleClick) {\n        onToggleClick(event);\n      }\n\n      if (event.target === textInput.current && isOpen) {\n        event.preventDownshiftDefault = true;\n        event.persist();\n      }\n    };\n  };\n\n  var enabled = useFeatureFlag('enable-v11-release');\n  var showWarning = !invalid && warn;\n  var className = cx(\"\".concat(prefix, \"--combo-box\"), [enabled ? null : containerClassName], (_cx = {}, _defineProperty(_cx, \"\".concat(prefix, \"--list-box--up\"), direction === 'top'), _defineProperty(_cx, \"\".concat(prefix, \"--combo-box--warning\"), showWarning), _defineProperty(_cx, \"\".concat(prefix, \"--combo-box--readonly\"), readOnly), _cx));\n  var titleClasses = cx(\"\".concat(prefix, \"--label\"), _defineProperty({}, \"\".concat(prefix, \"--label--disabled\"), disabled));\n  var comboBoxHelperId = !helperText ? undefined : \"combobox-helper-text-\".concat(comboBoxInstanceId);\n  var helperClasses = cx(\"\".concat(prefix, \"--form__helper-text\"), _defineProperty({}, \"\".concat(prefix, \"--form__helper-text--disabled\"), disabled));\n  var wrapperClasses = cx(\"\".concat(prefix, \"--list-box__wrapper\"), [enabled ? containerClassName : null, (_ref4 = {}, _defineProperty(_ref4, \"\".concat(prefix, \"--list-box__wrapper--fluid--invalid\"), isFluid && invalid), _defineProperty(_ref4, \"\".concat(prefix, \"--list-box__wrapper--fluid--focus\"), isFluid && isFocused), _ref4)]);\n  var inputClasses = cx(\"\".concat(prefix, \"--text-input\"), _defineProperty({}, \"\".concat(prefix, \"--text-input--empty\"), !inputValue)); // needs to be Capitalized for react to render it correctly\n\n  var ItemToElement = itemToElement;\n  return /*#__PURE__*/React__default.createElement(Downshift, _extends({}, downshiftProps, {\n    onChange: handleOnChange,\n    onInputValueChange: handleOnInputValueChange,\n    onStateChange: function onStateChange() {\n      var _downshiftProps$onSta;\n\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      handleOnStateChange.apply(void 0, args);\n      downshiftProps === null || downshiftProps === void 0 ? void 0 : (_downshiftProps$onSta = downshiftProps.onStateChange) === null || _downshiftProps$onSta === void 0 ? void 0 : _downshiftProps$onSta.call.apply(_downshiftProps$onSta, [downshiftProps].concat(args));\n    },\n    inputValue: inputValue || '',\n    itemToString: itemToString,\n    initialSelectedItem: initialSelectedItem,\n    inputId: id,\n    selectedItem: selectedItem\n  }), function (_ref5) {\n    var _textInput$current;\n\n    var getInputProps = _ref5.getInputProps,\n        getItemProps = _ref5.getItemProps,\n        getLabelProps = _ref5.getLabelProps,\n        getMenuProps = _ref5.getMenuProps,\n        getRootProps = _ref5.getRootProps,\n        getToggleButtonProps = _ref5.getToggleButtonProps,\n        isOpen = _ref5.isOpen,\n        inputValue = _ref5.inputValue,\n        selectedItem = _ref5.selectedItem,\n        highlightedIndex = _ref5.highlightedIndex,\n        clearSelection = _ref5.clearSelection,\n        toggleMenu = _ref5.toggleMenu;\n    var rootProps = getRootProps({}, {\n      suppressRefError: true\n    });\n    var labelProps = getLabelProps();\n    var buttonProps = getToggleButtonProps({\n      disabled: disabled || readOnly,\n      onClick: handleToggleClick(isOpen),\n      // When we moved the \"root node\" of Downshift to the <input> for\n      // ARIA 1.2 compliance, we unfortunately hit this branch for the\n      // \"mouseup\" event that downshift listens to:\n      // https://github.com/downshift-js/downshift/blob/v5.2.1/src/downshift.js#L1051-L1065\n      //\n      // As a result, it will reset the state of the component and so we\n      // stop the event from propagating to prevent this if the menu is already open.\n      // This allows the toggleMenu behavior for the toggleButton to correctly open and\n      // close the menu.\n      onMouseUp: function onMouseUp(event) {\n        if (isOpen) {\n          event.stopPropagation();\n        }\n      }\n    });\n    var inputProps = getInputProps({\n      // Remove excess aria `aria-labelledby`. HTML <label for> provides this aria information.\n      'aria-labelledby': null,\n      disabled: disabled,\n      placeholder: placeholder,\n      onClick: function onClick() {\n        toggleMenu();\n      },\n      onKeyDown: function onKeyDown(event) {\n        if (match(event, Space)) {\n          event.stopPropagation();\n        }\n\n        if (match(event, Enter) && !inputValue) {\n          toggleMenu();\n        }\n      }\n    });\n\n    var handleFocus = function handleFocus(evt) {\n      if (evt.target.type === 'button') {\n        setIsFocused(false);\n      } else {\n        setIsFocused(evt.type === 'focus' ? true : false);\n      }\n    };\n\n    var readOnlyEventHandlers = readOnly ? {\n      onKeyDown: function onKeyDown(evt) {\n        // This prevents the select from opening for the above keys\n        if (evt.key !== 'Tab') {\n          evt.preventDefault();\n        }\n      }\n    } : {};\n    return /*#__PURE__*/React__default.createElement(\"div\", {\n      className: wrapperClasses\n    }, titleText && /*#__PURE__*/React__default.createElement(Text, _extends({\n      as: \"label\",\n      className: titleClasses\n    }, labelProps), titleText), /*#__PURE__*/React__default.createElement(ListBox, {\n      onFocus: handleFocus,\n      onBlur: handleFocus,\n      className: className,\n      disabled: disabled,\n      invalid: invalid,\n      invalidText: invalidText,\n      isOpen: isOpen,\n      light: light,\n      size: size,\n      warn: warn,\n      warnText: warnText\n    }, /*#__PURE__*/React__default.createElement(\"div\", {\n      className: \"\".concat(prefix, \"--list-box__field\")\n    }, /*#__PURE__*/React__default.createElement(\"input\", _extends({\n      role: \"combobox\",\n      disabled: disabled,\n      className: inputClasses,\n      type: \"text\",\n      tabIndex: \"0\",\n      \"aria-autocomplete\": \"list\",\n      \"aria-expanded\": rootProps['aria-expanded'],\n      \"aria-haspopup\": \"listbox\",\n      \"aria-controls\": inputProps['aria-controls'],\n      title: textInput === null || textInput === void 0 ? void 0 : (_textInput$current = textInput.current) === null || _textInput$current === void 0 ? void 0 : _textInput$current.value\n    }, inputProps, rest, readOnlyEventHandlers, {\n      readOnly: readOnly,\n      ref: mergeRefs(textInput, ref)\n    })), invalid && /*#__PURE__*/React__default.createElement(WarningFilled, {\n      className: \"\".concat(prefix, \"--list-box__invalid-icon\")\n    }), showWarning && /*#__PURE__*/React__default.createElement(WarningAltFilled, {\n      className: \"\".concat(prefix, \"--list-box__invalid-icon \").concat(prefix, \"--list-box__invalid-icon--warning\")\n    }), inputValue && /*#__PURE__*/React__default.createElement(ListBoxSelection, {\n      clearSelection: clearSelection,\n      translateWithId: translateWithId,\n      disabled: disabled || readOnly,\n      onClearSelection: handleSelectionClear\n    }), /*#__PURE__*/React__default.createElement(ListBoxTrigger, _extends({}, buttonProps, {\n      isOpen: isOpen,\n      translateWithId: translateWithId\n    }))), /*#__PURE__*/React__default.createElement(ListBox.Menu, getMenuProps({\n      'aria-label': ariaLabel\n    }), isOpen ? filterItems(items, itemToString, inputValue).map(function (item, index) {\n      var _getItemProps;\n\n      var itemProps = getItemProps((_getItemProps = {\n        item: item,\n        index: index\n      }, _defineProperty(_getItemProps, 'aria-current', selectedItem === item ? true : null), _defineProperty(_getItemProps, 'aria-selected', highlightedIndex === index ? true : null), _defineProperty(_getItemProps, \"disabled\", item.disabled), _getItemProps));\n      return /*#__PURE__*/React__default.createElement(ListBox.MenuItem, _extends({\n        key: itemProps.id,\n        isActive: selectedItem === item,\n        isHighlighted: highlightedIndex === index || (selectedItem === null || selectedItem === void 0 ? void 0 : selectedItem.id) && (selectedItem === null || selectedItem === void 0 ? void 0 : selectedItem.id) === item.id || false,\n        title: itemToElement ? item.text : itemToString(item)\n      }, itemProps), itemToElement ? /*#__PURE__*/React__default.createElement(ItemToElement, _extends({\n        key: itemProps.id\n      }, item)) : itemToString(item), selectedItem === item && /*#__PURE__*/React__default.createElement(Checkmark, {\n        className: \"\".concat(prefix, \"--list-box__menu-item__selected-icon\")\n      }));\n    }) : null)), helperText && !invalid && !warn && !isFluid && (_Text || (_Text = /*#__PURE__*/React__default.createElement(Text, {\n      as: \"div\",\n      id: comboBoxHelperId,\n      className: helperClasses\n    }, helperText))));\n  });\n});\nComboBox.displayName = 'ComboBox';\nComboBox.propTypes = {\n  /**\n   * 'aria-label' of the ListBox component.\n   */\n  ariaLabel: PropTypes.string,\n\n  /**\n   * An optional className to add to the container node\n   */\n  className: PropTypes.string,\n\n  /**\n   * Specify the direction of the combobox dropdown. Can be either top or bottom.\n   */\n  direction: PropTypes.oneOf(['top', 'bottom']),\n\n  /**\n   * Specify if the control should be disabled, or not\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * Additional props passed to Downshift\n   */\n  downshiftProps: PropTypes.shape(Downshift.propTypes),\n\n  /**\n   * Provide helper text that is used alongside the control label for\n   * additional help\n   */\n  helperText: PropTypes.string,\n\n  /**\n   * Specify a custom `id` for the input\n   */\n  id: PropTypes.string.isRequired,\n\n  /**\n   * Allow users to pass in an arbitrary item or a string (in case their items are an array of strings)\n   * from their collection that are pre-selected\n   */\n  initialSelectedItem: PropTypes.oneOfType([PropTypes.object, PropTypes.string, PropTypes.number]),\n\n  /**\n   * Specify if the currently selected value is invalid.\n   */\n  invalid: PropTypes.bool,\n\n  /**\n   * Message which is displayed if the value is invalid.\n   */\n  invalidText: PropTypes.node,\n\n  /**\n   * Optional function to render items as custom components instead of strings.\n   * Defaults to null and is overridden by a getter\n   */\n  itemToElement: PropTypes.func,\n\n  /**\n   * Helper function passed to downshift that allows the library to render a\n   * given item to a string label. By default, it extracts the `label` field\n   * from a given item to serve as the item label in the list\n   */\n  itemToString: PropTypes.func,\n\n  /**\n   * We try to stay as generic as possible here to allow individuals to pass\n   * in a collection of whatever kind of data structure they prefer\n   */\n  items: PropTypes.array.isRequired,\n\n  /**\n   * should use \"light theme\" (white background)?\n   */\n  light: deprecate(PropTypes.bool, 'The `light` prop for `Combobox` has ' + 'been deprecated in favor of the new `Layer` component. It will be removed in the next major release.'),\n\n  /**\n   * `onChange` is a utility for this controlled component to communicate to a\n   * consuming component when a specific dropdown item is selected.\n   * @param {{ selectedItem }}\n   */\n  onChange: PropTypes.func.isRequired,\n\n  /**\n   * Callback function to notify consumer when the text input changes.\n   * This provides support to change available items based on the text.\n   * @param {string} inputText\n   */\n  onInputChange: PropTypes.func,\n\n  /**\n   * Helper function passed to Downshift that allows the user to observe internal\n   * state changes\n   */\n  onStateChange: PropTypes.func,\n\n  /**\n   * Callback function that fires when the combobox menu toggle is clicked\n   * @param {MouseEvent} event\n   */\n  onToggleClick: PropTypes.func,\n\n  /**\n   * Used to provide a placeholder text node before a user enters any input.\n   * This is only present if the control has no items selected\n   */\n  placeholder: PropTypes.string,\n\n  /**\n   * Is the ComboBox readonly?\n   */\n  readOnly: PropTypes.bool,\n\n  /**\n   * For full control of the selection\n   */\n  selectedItem: PropTypes.oneOfType([PropTypes.object, PropTypes.string, PropTypes.number]),\n\n  /**\n   * Specify your own filtering logic by passing in a `shouldFilterItem`\n   * function that takes in the current input and an item and passes back\n   * whether or not the item should be filtered.\n   */\n  shouldFilterItem: PropTypes.func,\n\n  /**\n   * Specify the size of the ListBox. Currently supports either `sm`, `md` or `lg` as an option.\n   */\n  size: ListBoxSize,\n\n  /**\n   * Provide text to be used in a `<label>` element that is tied to the\n   * combobox via ARIA attributes.\n   */\n  titleText: PropTypes.node,\n\n  /**\n   * Specify a custom translation function that takes in a message identifier\n   * and returns the localized string for the message\n   */\n  translateWithId: PropTypes.func,\n\n  /**\n   * Currently supports either the default type, or an inline variant\n   */\n  type: ListBoxType,\n\n  /**\n   * Specify whether the control is currently in warning state\n   */\n  warn: PropTypes.bool,\n\n  /**\n   * Provide the text that is displayed when the control is in warning state\n   */\n  warnText: PropTypes.node\n};\nComboBox.defaultProps = {\n  disabled: false,\n  itemToString: defaultItemToString,\n  itemToElement: null,\n  shouldFilterItem: defaultShouldFilterItem,\n  type: 'default',\n  ariaLabel: 'Choose an item',\n  direction: 'bottom'\n};\n\nexport { ComboBox as default };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}